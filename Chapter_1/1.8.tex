\documentclass[../main.tex]{subfiles}
\begin{document}

\begin{theorem}\label{thm:1.8.1}
    （全概率公式）\\
    设 $\{B_i\}$ 是 $\Omega$ 的一个分割，即
    \begin{enumerate}
        \item $\sum_iB_i=\Omega$
        \item $B_iB_j=\varnothing,\forall i\neq j$
        \item $P(B_i)>0,\forall i$
    \end{enumerate}
    则 $P(A)=P(\sum_{i}(AB_i))=\sum_iP(AB_i)=\sum_iP(A|B_i)P(B_i)$。\\
    注：$\{B_i\}$ 可以是有限集合，或可数无穷集合。
\end{theorem}

\begin{example}
    对于调查问卷中的敏感问题（如“你是否有过某病史”），被调查者可能会有所顾虑而做出虚假的回答。为保护被调查者的隐私，同时取得其信任，考虑引入一个“保护性问题”，即不具有敏感性的问题（如“你是否会游泳”），并让被调查者以抛硬币的方式，随机抽取一个问题回答。这样，抽到敏感问题的、确有过该病史的被调查者在回答“是”时也无须有病史暴露之虞。\\
    设人群中，敏感问题答案为“是”的比例为 $p$（未知），保护性问题答案为“是”的比例为 $q$（假设已知），则若收集到 $n$ 个被调查者的结果，其中 $k$ 个为“是”，我们便有 $\frac{1}{2}p+\frac{1}{2}q\approx \frac{k}{n}$，可以据此得到 $p$ 的估计。
\end{example}

\begin{theorem}\label{thm:1.8.2}
    （Bayes 公式 / Bayes 准则）\\
    设 $\{B_i\}$ 是 $\Omega$ 的一个分割，则 $P(B_i|A)=\frac{P(B_i)P(A|B_i)}{\sum_j P(B_j)P(A|B_j)}$。
\end{theorem}

\begin{example}
    （假阳性悖论）\\
    对于一种流行病，$A$ 表示一个人检查呈阳性，$B$ 表示此人确实患病。\\
    设 $P(B)=10^{-4},P(A|B)=0.99,P(A|B^c)=10^{-3}$，\\
    则一个检查呈阳性的人真的患病的概率仅为 $P(B|A)=\frac{P(A|B)P(B)}{P(A|B)P(B)+P(A|B^c)P(B^c)}\approx 9\%$。\\
    如果再次检测仍呈阳性，且两次检测效率不变，结果彼此独立，则此人真的患病的概率为 $P(B|A_1A_2)=\frac{P(A_1A_2|B)P(B)}{P(A_1A_2|B)P(B)+P(A_1A_2|B^c)P(B^c)}=\frac{P(A_1|B)P(A_2|B)P(B)}{P(A_1|B)P(A_2|B)P(B)+P(A_1|B^c)P(A_2|B^c)P(B^c)}\approx 99\%$。
\end{example}

\end{document}
